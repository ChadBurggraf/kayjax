<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>Kayjax Prototype Tests</title>
	<script type="text/javascript" src="prototype-1.6.1.js"></script>
	<script type="text/javascript" src="kayjax-prototype-1.3.0.js"></script>
</head>

<body>
    <h1>Kayjax Prototype Tests</h1>
    
    <h2>Kayjax.appendQuery(url, query)</h2>
    <p>
        <code>Kayjax.appendQuery("http://google.com/", "q=test");</code>
        <strong>
            <script type="text/javascript">
                document.write(Kayjax.appendQuery("http://google.com/", "q=test"));
            </script>
        </strong>
    </p>
    <p>
        <code>Kayjax.appendQuery("http://google.com/?q=test", "q1=test2");</code>
        <strong>
            <script type="text/javascript">
                document.write(Kayjax.appendQuery("http://google.com/?q=test", "q1=test2"));
            </script>
        </strong>
    </p>
    <p>
        <code>Kayjax.appendQuery("http://google.com/?q=test&q1=test2", "q=test3");</code>
        <strong>
            <script type="text/javascript">
                document.write(Kayjax.appendQuery("http://google.com/?q=test&q1=test2", "q=test3"));
            </script>
        </strong>
    </p>
    
    <h2>Kayjax.prepareParameters(parameters)</h2>
    <pre><code>document.observe("dom:loaded", function() {
    var parameters = {
        text: "Some text",
        date: new Date(),
        child: {
            text: "More text",
            number: 12.3,
            date: new Date()
        }
    };
    
    $("parameters1").update(Object.toJSON(Kayjax.prepareParameters(parameters)));
});</code></pre>
    <script type="text/javascript">
        document.observe("dom:loaded", function() {
            var parameters = {
                text: "Some text",
                date: new Date(),
                child: {
                    text: "More text",
                    number: 12.3,
                    date: new Date()
                }
            };
            
            $("parameters1").update(Object.toJSON(Kayjax.prepareParameters(parameters)));
        });
    </script>
    <p>
        <strong id="parameters1"></strong>
    </p>
    
    <h2>Kayjax.request(url, options)</h2>
    <pre><code>document.observe("dom:loaded", function() {
    Kayjax.request("ajax/GetDate.ashx", {
        callback: function(response) { $("response1").update(response.value.toString()); },
        parameters: {AddDays: 1}
    });
});</code></pre>
    <script type="text/javascript">
        document.observe("dom:loaded", function() {
            Kayjax.request("ajax/GetDate.ashx", {
                callback: function(response) { $("response1").update(response.value.toString()); },
                parameters: {AddDays: 1}
            });
        });
    </script>
    <p>
        <strong id="response1"></strong>
    </p>
    
    <h2>Kayjax.request(url, options)</h2>
    <pre><code>document.observe("dom:loaded", function() {
    Kayjax.request("ajax/SetDate.ashx", {
        callback: function(response) { $("response2").update(response.value.toString()); },
        parameters: {"Date": new Date()}
    });
});</code></pre>
    <script type="text/javascript">
        document.observe("dom:loaded", function() {
            Kayjax.request("ajax/SetDate.ashx", {
                callback: function(response) { $("response2").update(response.value.toString()); },
                parameters: {"Date": new Date()}
            });
        });
    </script>
    <p>
        <strong id="response2"></strong>
    </p>
    
    <h2>Kayjax.update(element, url, options)</h2>
    <pre><code>document.observe("dom:loaded", function() {
    Kayjax.update("update1", "helloworld.ashx");
});</code></pre>
    <script type="text/javascript">
        document.observe("dom:loaded", function() {
            Kayjax.update("update1", "helloworld.ashx");
        });
    </script>

    <div id="update1"></div>
</body>
</html>
